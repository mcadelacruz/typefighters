<!-- this is the page for the gameplay -->
{% extends "base.html" %}

{% block content %}
<div id="game-box" style="width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;">
    <div id="step-name" style="display:flex;flex-direction:column;align-items:flex-start;width:100%;">
        <div class="menu-title mb-4">enter your name</div>
        <input type="text" id="player-name-input" maxlength="32" placeholder="your name" autofocus>
        <button class="menu-link" id="name-next-btn">next</button>
    </div>
    <div id="step-start" style="display:none;flex-direction:column;align-items:flex-start;width:100%;">
        <div class="menu-title mb-4">type <span style="color:#fff;">start</span> to begin</div>
        <input type="text" id="start-input" maxlength="10" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
    </div>
    <div id="step-game" style="display:none;flex-direction:column;align-items:flex-start;width:100%;">
        <div class="stats-row mb-2">
            <div>score: <span id="score">0</span></div>
            <div>time left: <span id="time-left">120</span>s</div>
        </div>
        <div class="word-display" id="current-word"></div>
        <input type="text" id="word-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="type the word here">
        <div class="mt-3" style="font-size:1rem; text-align:left;">last word speed: <span id="last-speed">-</span> ms</div>
    </div>
    <div id="step-over" style="display:none;flex-direction:column;align-items:flex-start;width:100%;">
        <div class="menu-title mb-4">game over</span></div>
        <div id="game-over-reason" class="mb-3"></div>
        <div class="final-stats">
            <div>final score: <span id="final-score"></span></div>
            <div>words typed: <span id="final-words"></span></div>
            <div>average speed: <span id="final-speed"></span> ms</div>
        </div>
        <button class="menu-link" onclick="window.location.href='{{ url_for('highscores') }}'">high scores</button>
        <button class="menu-link" onclick="window.location.href='{{ url_for('index') }}'">menu</button>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='game.js') }}"></script>
{% endblock %}